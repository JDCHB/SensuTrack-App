import{t as u,a as v}from"../chunks/DB2fUOgU.js";import{i as Ce}from"../chunks/DcovNT_f.js";import{h as ke,a as Ft,b as Yt,l as e,ai as Zt,c as Wt,r as _t,s as ut,d as mt,g as Ve,C as Xt,e as xt,f as Tt,p as Kt,I as jt,a3 as Qt,v as z,aw as gt,ax as pt,M as ht,ay as bt,az as yt,aA as ea,G as ta,aB as aa,a5 as oa,aC as ft,aD as sa,A as ra,z as la,K as ia,aE as St,q as na,aF as ca,i as Bt,V as da,k as Ae,w as l,n as o,o as a,a7 as me,aG as kt,t,x as Ue,m as De,a6 as xe,aH as wt}from"../chunks/B_GF-YZf.js";import{l as va,e as Z}from"../chunks/DvYAYf3U.js";import{i as K}from"../chunks/BPQlkIxo.js";import{b as Fe}from"../chunks/DbJ9r6hh.js";import{s as te}from"../chunks/DmAATcWe.js";import{r as ge,b as Ee,a as It,s as ua}from"../chunks/xyBB9N7I.js";import{o as Ie,c as rt}from"../chunks/DnDqS3fh.js";function Te(i,r){return r}function ma(i,r,s,n){for(var c=[],w=r.length,m=0;m<w;m++)ea(r[m].e,c,!0);var B=w>0&&c.length===0&&s!==null;if(B){var A=s.parentNode;ta(A),A.append(s),n.clear(),Le(i,r[0].prev,r[w-1].next)}aa(c,()=>{for(var N=0;N<w;N++){var E=r[N];B||(n.delete(E.k),Le(i,E.prev,E.next)),oa(E.e,!B)}})}function je(i,r,s,n,c,w=null){var m=i,B={flags:r,items:new Map,first:null},A=(r&St)!==0;if(A){var N=i;m=ke?ut(la(N)):N.appendChild(ia())}ke&&Ft();var E=null,ae=!1,T=Zt(()=>{var y=s();return Qt(y)?y:y==null?[]:jt(y)});Yt(()=>{var y=e(T),_=y.length;if(ae&&_===0)return;ae=_===0;let H=!1;if(ke){var V=m.data===Wt;V!==(_===0)&&(m=_t(),ut(m),mt(!1),H=!0)}if(ke){for(var Q=null,M,b=0;b<_;b++){if(Ve.nodeType===8&&Ve.data===Xt){m=Ve,H=!0,mt(!1);break}var f=y[b],j=n(f,b);M=Ct(Ve,B,Q,null,f,j,b,c,r,s),B.items.set(j,M),Q=M}_>0&&ut(_t())}ke||pa(y,B,m,c,r,n,s),w!==null&&(_===0?E?xt(E):E=Tt(()=>w(m)):E!==null&&Kt(E,()=>{E=null})),H&&mt(!0),e(T)}),ke&&(m=Ve)}function pa(i,r,s,n,c,w,m){var g,D,F,q;var B=(c&ca)!==0,A=(c&(ft|bt))!==0,N=i.length,E=r.items,ae=r.first,T=ae,y,_=null,H,V=[],Q=[],M,b,f,j;if(B)for(j=0;j<N;j+=1)M=i[j],b=w(M,j),f=E.get(b),f!==void 0&&((g=f.a)==null||g.measure(),(H??(H=new Set)).add(f));for(j=0;j<N;j+=1){if(M=i[j],b=w(M,j),f=E.get(b),f===void 0){var P=T?T.e.nodes_start:s;_=Ct(P,r,_,_===null?r.first:_.next,M,b,j,n,c,m),E.set(b,_),V=[],Q=[],T=_.next;continue}if(A&&ba(f,M,j,c),(f.e.f&pt)!==0&&(xt(f.e),B&&((D=f.a)==null||D.unfix(),(H??(H=new Set)).delete(f))),f!==T){if(y!==void 0&&y.has(f)){if(V.length<Q.length){var $=Q[0],k;_=$.prev;var L=V[0],C=V[V.length-1];for(k=0;k<V.length;k+=1)Et(V[k],$,s);for(k=0;k<Q.length;k+=1)y.delete(Q[k]);Le(r,L.prev,C.next),Le(r,_,L),Le(r,C,$),T=$,_=C,j-=1,V=[],Q=[]}else y.delete(f),Et(f,T,s),Le(r,f.prev,f.next),Le(r,f,_===null?r.first:_.next),Le(r,_,f),_=f;continue}for(V=[],Q=[];T!==null&&T.k!==b;)(T.e.f&pt)===0&&(y??(y=new Set)).add(T),Q.push(T),T=T.next;if(T===null)continue;f=T}V.push(f),_=f,T=f.next}if(T!==null||y!==void 0){for(var ee=y===void 0?[]:jt(y);T!==null;)(T.e.f&pt)===0&&ee.push(T),T=T.next;var W=ee.length;if(W>0){var ie=(c&St)!==0&&N===0?s:null;if(B){for(j=0;j<W;j+=1)(F=ee[j].a)==null||F.measure();for(j=0;j<W;j+=1)(q=ee[j].a)==null||q.fix()}ma(r,ee,ie,E)}}B&&na(()=>{var h;if(H!==void 0)for(f of H)(h=f.a)==null||h.apply()}),ht.first=r.first&&r.first.e,ht.last=_&&_.e}function ba(i,r,s,n){(n&ft)!==0&&yt(i.v,r),(n&bt)!==0?yt(i.i,s):i.i=s}function Ct(i,r,s,n,c,w,m,B,A,N){var E=(A&ft)!==0,ae=(A&sa)===0,T=E?ae?z(c):gt(c):c,y=(A&bt)===0?m:gt(m),_={i:y,v:T,k:w,a:null,e:null,prev:s,next:n};try{return _.e=Tt(()=>B(i,T,y,N),ke),_.e.prev=s&&s.e,_.e.next=n&&n.e,s===null?r.first=_:(s.next=_,s.e.next=_.e),n!==null&&(n.prev=_,n.e.prev=_.e),_}finally{}}function Et(i,r,s){for(var n=i.next?i.next.e.nodes_start:s,c=r?r.e.nodes_start:s,w=i.e.nodes_start;w!==n;){var m=ra(w);c.before(w),w=m}}function Le(i,r,s){r===null?i.first=s:(r.next=s,r.e.next=s&&s.e),s!==null&&(s.prev=r,s.e.prev=r&&r.e)}function fa(i,r,s){var n=i==null?"":""+i;return n===""?null:n}function Ze(i,r,s,n,c,w){var m=i.__className;if(ke||m!==s||m===void 0){var B=fa(s);(!ke||B!==i.getAttribute("class"))&&(B==null?i.removeAttribute("class"):i.className=B),i.__className=s}return w}function At(i,r,s){if(i.multiple)return ga(i,r);for(var n of i.options){var c=Ye(n);if(da(c,r)){n.selected=!0;return}}(!s||r!==void 0)&&(i.selectedIndex=-1)}function _a(i,r){Bt(()=>{var s=new MutationObserver(()=>{var n=i.__value;At(i,n)});return s.observe(i,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{s.disconnect()}})}function Dt(i,r,s=r){var n=!0;va(i,"change",c=>{var w=c?"[selected]":":checked",m;if(i.multiple)m=[].map.call(i.querySelectorAll(w),Ye);else{var B=i.querySelector(w)??i.querySelector("option:not([disabled])");m=B&&Ye(B)}s(m)}),Bt(()=>{var c=r();if(At(i,c,n),n&&c===void 0){var w=i.querySelector(":checked");w!==null&&(c=Ye(w),s(c))}i.__value=c,n=!1}),_a(i)}function ga(i,r){for(var s of i.options)s.selected=~r.indexOf(Ye(s))}function Ye(i){return"__value"in i?i.__value:i.value}function We(i){return function(...r){var s=r[0];return s.preventDefault(),i==null?void 0:i.apply(this,r)}}var ha=u("<option> </option>"),ya=u('<div class="wrapper svelte-ekoqon"><div class="title small-title svelte-ekoqon" style="color: dodgerblue;">REGISTRO DE USUARIOS</div> <form class="class-form svelte-ekoqon"><input class="form__input small-input svelte-ekoqon" placeholder="Nombre" type="text" autocomplete="off" required> <input class="form__input small-input svelte-ekoqon" placeholder="Apellido" type="text" autocomplete="off" required> <input class="form__input small-input svelte-ekoqon" placeholder="Documento" type="text" autocomplete="off" required> <input class="form__input small-input svelte-ekoqon" placeholder="Telefono" type="text" autocomplete="off" required> <input class="form__input small-input svelte-ekoqon" placeholder="Correo Electronico" type="text" autocomplete="off" required> <input class="form__input small-input svelte-ekoqon" placeholder="Contraseña" type="password" autocomplete="off" required> <input class="form__input small-input svelte-ekoqon" id="Confirmar_Contraseña" placeholder="Contraseña" type="password" autocomplete="off" required> <select id="roles" class="form__select svelte-ekoqon"><option disabled selected>Seleccione el Rol:</option><!></select> <button class="flip-card__btn small-btn svelte-ekoqon">Confirmar</button></form></div>');function wa(i,r){Ae(r,!1);let s=z(""),n=z(""),c=z(""),w="",m=z(""),B=z(""),A=z(""),N=z(""),E=z([]),ae=!0,T=null;Ie(async()=>{const ee=await(await fetch("https://proyectomascotas.onrender.com/get_roles/")).json();l(E,ee.resultado),console.log(e(E))});const y=rt();async function _(){if(w=document.getElementById("Confirmar_Contraseña").value,w===e(c))try{const C=await Swal.fire({title:"¿Estás seguro?",text:"¡Desea registrar un nuevo Usuario a SensuTrack!?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sí, registrar!",customClass:{popup:"swal-popup",title:"custom-title"}}),ee=parseInt(e(N),10);if(isNaN(ee)){alert("Por favor, seleccione un rol válido."),y("hideLoader");return}if(C.isConfirmed){y("showLoader");const ie=await(await fetch("https://proyectomascotas.onrender.com/create_user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e(A),password:e(c),nombre:e(s),apellido:e(n),documento:e(m),telefono:e(B),id_rol:e(N),estado:ae})})).json();console.log("Respuesta del servidor:",ie),y("hideLoader"),ie.resultado==="Usuario creado"?Swal.fire({title:"¡Registrado!,¡Bienvenid@ "+e(s)+"!",icon:"success",customClass:{popup:"swal-popup",title:"custom-title"}}):ie.resultado==="El usuario ya existe"&&Swal.fire({icon:"error",title:"Error",text:"Lo sentimos, el usuario ya existe."})}else Swal.fire({title:"REGISTRO CANCELADO",icon:"error",customClass:{popup:"swal-popup",title:"custom-title"}})}catch(C){T=C.message,y("hideLoader"),alert("Error en la solicitud: "+T)}else Swal.fire({title:"Parece que ha ocurrido un error",text:"No son iguales las contraseñas, porfavor intente de nuevo :]",icon:"error",customClass:{popup:"swal-popup",title:"custom-title"}})}Ce();var H=ya(),V=o(a(H),2),Q=a(V);ge(Q);var M=o(Q,2);ge(M);var b=o(M,2);ge(b);var f=o(b,2);ge(f);var j=o(f,2);ge(j);var P=o(j,2);ge(P);var $=o(P,4);me(()=>{e(N),kt(()=>{e(E)})});var k=a($);k.value=k.__value="";var L=o(k);je(L,1,()=>e(E),Te,(C,ee)=>{var W=ha(),ie={},g=a(W,!0);t(W),me(()=>{ie!==(ie=e(ee).id)&&(W.value=(W.__value=e(ee).id)??""),te(g,e(ee).nombre)}),v(C,W)}),t($),Ue(2),t(V),t(H),Ee(Q,()=>e(s),C=>l(s,C)),Ee(M,()=>e(n),C=>l(n,C)),Ee(b,()=>e(m),C=>l(m,C)),Ee(f,()=>e(B),C=>l(B,C)),Ee(j,()=>e(A),C=>l(A,C)),Ee(P,()=>e(c),C=>l(c,C)),Dt($,()=>e(N),C=>l(N,C)),Z("submit",V,We(_)),v(i,H),De()}var Ea=u('<div class="progress" style="height: 5px;"><div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div></div>'),xa=u('<p class="text-danger text-center"> </p>'),Ta=u("<tr><td> </td><td> </td><td> </td><td> </td><td> </td><td> </td><td> </td></tr>"),ja=u('<h3 class="mb-4 text-center text-secondary svelte-sjxh8v">Discapacitados Registrados</h3> <div class="table-responsive"><table class="table table-bordered table-striped svelte-sjxh8v"><thead class="table-light text-center"><tr><th>Id</th><th>Nombre</th><th>Género</th><th>Tipo de Ceguera</th><th>Cuidador</th><th>Fecha y Hora</th><th>Estado</th></tr></thead><tbody></tbody></table></div> <div class="text-center mt-4"><button class="btn btn-success btn-lg px-4 svelte-sjxh8v"><i class="fas fa-download me-2"></i> Exportar como PDF</button></div>',1),Sa=u('<div class="container my-4 p-4 bg-white rounded shadow-lg svelte-sjxh8v"><h2 class="text-center text-primary fw-bold mb-4 svelte-sjxh8v">Reportes</h2> <div class="mb-4"><select class="form-select form-select-lg" id="opcion" required><option>Discapacitados</option><option>Usuarios</option><option>Otro</option></select></div> <div class="row row-cols-1 row-cols-md-2 g-3 mb-4"><div><label for="desde_ciegos" class="form-label fw-semibold svelte-sjxh8v">Desde:</label> <input type="date" id="desde_ciegos" class="form-control"></div> <div><label for="hasta_ciegos" class="form-label fw-semibold svelte-sjxh8v">Hasta:</label> <input type="date" id="hasta_ciegos" class="form-control"></div></div> <div class="text-center mb-4"><button type="button" class="btn btn-primary btn-lg px-4 svelte-sjxh8v"><i class="fas fa-file-alt me-2"></i> Generar Reporte</button></div></div> <div class="container py-4 svelte-sjxh8v" id="MostrarReporte"><!></div>',1);function Ba(i,r){Ae(r,!1);let s=z([]),n=z(!1),c=z(null),w,m="",B="",A=z(!1);async function N(){try{if(l(n,!0),l(A,!1),l(c,null),w=document.getElementById("opcion").value,m=document.getElementById("desde_ciegos").value,B=document.getElementById("hasta_ciegos").value,console.log({fecha1:m,fecha2:B}),!m||!B){Swal.fire({icon:"error",title:"Error",text:"Por favor, selecciona ambas fechas."});return}const k=await fetch("https://proyectomascotas.onrender.com/Ciegos_Report",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fecha1:m,fecha2:B})});if(!k.ok)throw new Error("Error al cargar los datos");const L=await k.json();console.log(L),l(s,L.resultado),l(A,!0),setTimeout(()=>globalThis.$("#myTable").DataTable(),0)}catch(k){l(c,k.message),console.error("Error al generar reporte:",k)}finally{l(n,!1)}}function E(){const{jsPDF:k}=window.jspdf,L=new k,C=["Id","Nombre","Género","Tipo de Ceguera","Cuidador","Fecha","Estado"],ee=e(s).map(W=>[W.id,W.nombre,W.genero,W.tipo_ceguera,W.nombre_cuidador,W.fecha,W.estado]);L.text(20,20,"Reporte de discapacitados visuales registrados en la página"),L.autoTable(C,ee,{startY:30}),L.save("ReporteDiscapacitados.pdf"),Swal.fire({position:"center",icon:"success",title:"Se exportó de manera exitosa",showConfirmButton:!1,timer:1500})}Ce();var ae=Sa(),T=xe(ae),y=o(a(T),2),_=a(y),H=a(_);H.value=H.__value="1";var V=o(H);V.value=V.__value="2";var Q=o(V);Q.value=Q.__value="3",t(_),t(y);var M=o(y,4),b=a(M);t(M),t(T);var f=o(T,2),j=a(f);{var P=k=>{var L=Ea();v(k,L)},$=(k,L)=>{{var C=W=>{var ie=xa(),g=a(ie);t(ie),me(()=>te(g,`Error: ${e(c)??""}`)),v(W,ie)},ee=(W,ie)=>{{var g=D=>{var F=ja(),q=o(xe(F),2),h=a(q),I=o(a(h));je(I,5,()=>e(s),Te,(ne,O)=>{var ce=Ta(),ve=a(ce),X=a(ve,!0);t(ve);var d=o(ve),G=a(d,!0);t(d);var R=o(d),J=a(R,!0);t(R);var S=o(R),U=a(S,!0);t(S);var Y=o(S),re=a(Y,!0);t(Y);var le=o(Y),de=a(le,!0);t(le);var pe=o(le),be=a(pe,!0);t(pe),t(ce),me(()=>{te(X,e(O).id),te(G,e(O).nombre),te(J,e(O).genero),te(U,e(O).tipo_ceguera),te(re,e(O).nombre_cuidador),te(de,e(O).fecha),te(be,e(O).estado?"Activo":"Inactivo")}),v(ne,ce)}),t(I),t(h),t(q);var x=o(q,2),oe=a(x);t(x),Z("click",oe,E),v(D,F)};K(W,D=>{e(A)&&D(g)},ie)}};K(k,W=>{e(c)?W(C):W(ee,!1)},L)}};K(j,k=>{e(n)?k(P):k($,!1)})}t(f),Z("click",b,N),v(i,ae),De()}var ka=u("<option> </option>"),Ia=u('<div class="wrapper svelte-pw5onu"><div class="title small-title svelte-pw5onu" style="color: dodgerblue;">REGISTRAR GPS</div> <form class="class-form svelte-pw5onu"><div class="form-group"><label for="numero_serie">Número de Serie:</label> <span>Registre el Número de Serie del GPS:</span> <input id="numero_serie" type="text" class="form__input svelte-pw5onu" placeholder="Ingrese el Serial del GPS" required></div> <span>Usuarios Discapacitados Resgistrados:</span> <select id="ciegos" class="form__input svelte-pw5onu" required><option disabled selected>Selecciona el Discapacitado que tendra el GPS</option><!></select> <button class="flip-card__btn small-btn svelte-pw5onu">Confirmar</button></form></div>');function Ca(i,r){Ae(r,!1);let s=z(""),n=100,c=z(""),w=!0,m=null,B=null,A=z({});Ie(async()=>{const b=await(await fetch("https://proyectomascotas.onrender.com/get_discapacitadosV_SIN_GPS/")).json();l(A,b.resultado),console.log(e(A))});const N=rt();async function E(){try{N("showLoader");const M=await fetch("https://proyectomascotas.onrender.com/create_gps",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({numero_serie:e(s),nivel_bateria:n,id_ciego_vinculado:parseInt(e(c)),estado:w})}),b=await M.json();if(console.log(b),N("hideLoader"),M.ok)m=b.resultado,B=null,l(s,""),l(c,""),Swal.fire({title:"El GPS ha sido Registrado Exitosamente!",icon:"success",confirmButtonText:"OK"});else throw swalWithBootstrapButtons.fire({title:"Parece que ha ocurrido un error",text:"Revise que todo este correcto porfavor :]",icon:"error"}),new Error(b.detail||"Ocurrió un error")}catch(M){B=M.message,N("hideLoader"),m=null}}Ce();var ae=Ia(),T=o(a(ae),2),y=a(T),_=o(a(y),4);ge(_),t(y);var H=o(y,4);me(()=>{e(c),kt(()=>{e(A)})});var V=a(H);V.value=V.__value="";var Q=o(V);je(Q,1,()=>e(A),Te,(M,b)=>{var f=ka(),j={},P=a(f,!0);t(f),me(()=>{j!==(j=e(b).id)&&(f.value=(f.__value=e(b).id)??""),te(P,e(b).nombre)}),v(M,f)}),t(H),Ue(2),t(T),t(ae),Ee(_,()=>e(s),M=>l(s,M)),Dt(H,()=>e(c),M=>l(c,M)),Z("submit",T,We(E)),v(i,ae),De()}var Aa=u('<div class="row justify-content-center text-center"><div class="col-12 mb-2">Cargando datos...</div> <div class="spinner-border text-primary" role="status"><span class="visually-hidden">Loading...</span></div></div>'),Da=u('<div class="alert alert-danger text-center"> </div>'),Oa=u('<button class="btn btn-sm btn-outline-danger"><i class="bi bi-lock"></i> <span class="d-none d-md-inline">Desactivar</span></button>'),Ra=u('<button class="btn btn-sm btn-outline-success"><i class="bi bi-unlock"></i> <span class="d-none d-md-inline">Activar</span></button>'),Na=u('<tr><td> </td><td> </td><td> </td><td> </td><td> </td><td class="text-center"><span> </span></td><td class="text-center"><div class="d-flex flex-wrap gap-1 justify-content-center"><button class="btn btn-sm btn-outline-primary"><i class="bi bi-pencil"></i> <span class="d-none d-md-inline">Editar</span></button> <!></div></td></tr>'),Ma=u('<div class="table-responsive"><table class="table table-hover table-bordered align-middle" id="myTable"><thead class="thead-light text-center"><tr><th>Usuario</th><th>Nombre</th><th>Apellido</th><th>Documento</th><th>Teléfono</th><th>Estado</th><th>Acciones</th></tr></thead><tbody></tbody></table></div>'),Pa=u(`<div id="Mostrarusuario"><div class="container py-4 bg-light rounded shadow"><h2 class="text-center mb-4 pb-2 border-bottom border-3 border-primary fw-bold"><i class="bi bi-people-fill me-2"></i>USUARIOS</h2> <!></div></div> <div class="fade" id="nav-listado" role="tabpanel" aria-labelledby="nav-listado-tab"><div class="container text-center"><p class="text-warning"></p></div> <div class="card border-dark shadow-lg" style="width: 50%; margin: 5% auto;"><div class="card-header d-flex justify-content-between align-items-center"><h5 class="card-title mb-0"><b>Editando Usuario</b></h5> <button class="btn btn-close" aria-label="Cerrar edición de usuario"></button></div> <div class="card-body"><div class="mb-3 row"><label for="nombres" class="col-lg-3 col-form-label"><b>Nombre:</b></label> <div class="col-lg-9"><input type="text" id="nombres" class="form-control" placeholder="Nombres" maxlength="100" readonly=""></div></div> <div class="mb-3 row"><label for="apellidos" class="col-lg-3 col-form-label"><b>Apellido:</b></label> <div class="col-lg-9"><input type="text" id="apellidos" class="form-control" placeholder="Apellidos" readonly=""></div></div> <div class="mb-3 row"><label for="documento" class="col-lg-3 col-form-label"><b>Documento:</b></label> <div class="col-lg-9"><input type="text" id="documento" class="form-control" placeholder="Documento de identidad" readonly=""></div></div> <div class="mb-3 row"><label for="telefono" class="col-lg-3 col-form-label"><b>Teléfono:</b></label> <div class="col-lg-9"><input type="text" id="telefono" class="form-control" placeholder="Teléfono" maxlength="20" readonly=""></div></div> <div class="mb-3 row"><label for="correo" class="col-lg-3 col-form-label"><b>Correo:</b></label> <div class="col-lg-9"><input type="text" id="correo" class="form-control" placeholder="Correo electrónico" readonly=""></div></div> <div class="mb-3 row"><label for="estado" class="col-lg-3 col-form-label"><b>Estado:</b></label> <div class="col-lg-9"><select id="estado" class="form-control"><option>Activar</option><option>Desactivar</option></select></div></div> <div class="d-flex justify-content-between align-items-center"><div class="col-lg-9 text-muted">¡Al terminar de editar, haga clic en actualizar para guardar
                    los cambios!</div> <div class="col-lg-3 text-end"><button class="btn btn-outline-info"><b>Actualizar</b></button></div></div></div></div></div>`,1);function La(i,r){Ae(r,!1);let s=z({}),n=z(!0),c=z(null);Ie(async()=>{try{console.log("2");const g=await fetch("https://proyectomascotas.onrender.com/get_users");if(!g.ok)throw new Error("Error al cargar los datos");const D=await g.json();l(s,D.resultado),console.log(e(s)),setTimeout(()=>{globalThis.$("#myTable").DataTable()},0)}catch(g){l(c,g.message)}finally{l(n,!1)}});async function w(){document.getElementById("nav-listado").setAttribute("class","fade"),document.getElementById("Mostrarusuario").removeAttribute("class"),location.reload()}var m=1;async function B(g,D){console.log("Editando a "+D);const F=document.getElementById("nav-listado");F.removeAttribute("class"),console.log(F),m=g,console.log(Number.isInteger(m)),console.log(m);let q=document.getElementById("Mostrarusuario");q.setAttribute("class","fade"),console.log(q);const h=q.parentElement;console.log(h),h.insertBefore(F,q),console.log("NO Entra al try de buscar");try{console.log("Entra al try de buscar");const I=await fetch(`https://proyectomascotas.onrender.com/get_user/${m}`,{method:"GET",headers:{"Content-Type":"application/json"}}),x=await I.json();console.log(I),console.log(x),console.log("Buscando al usuario seleccionado"),l(s,x.apellido),console.log(e(s)),document.getElementById("nombres").value=x.nombre,document.getElementById("apellidos").value=x.apellido,document.getElementById("documento").value=x.documento,document.getElementById("telefono").value=x.telefono,document.getElementById("correo").value=x.email,console.log("verificando el estado: "+x.estado);const oe=x.estado?"1":"0";document.getElementById("estado").value=oe;const ne=document.getElementById("nombres");ne.removeAttribute("readonly"),ne.focus(),document.getElementById("apellidos").removeAttribute("readonly"),document.getElementById("documento").removeAttribute("readonly"),document.getElementById("telefono").removeAttribute("readonly"),document.getElementById("correo").removeAttribute("readonly"),document.getElementById("estado").removeAttribute("readonly")}catch(I){l(c,I.message)}finally{l(n,!1)}}async function A(){console.log(m);let g=document.getElementById("nombres").value,D=document.getElementById("apellidos").value,F=document.getElementById("documento").value,q=document.getElementById("telefono").value,h=document.getElementById("correo").value,I=document.getElementById("estado").value;I=I==="1",console.log("ID DE ESTADO ENVIADO A LA BASE DE DATOS ES "+I);try{console.log("Entra al try de actualzar");const x=await fetch(`https://proyectomascotas.onrender.com/update_user_admin/${m}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:h,nombre:g,apellido:D,documento:F,telefono:q,estado:I})});console.log("Actualizado"),Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:ne=>{ne.onmouseenter=Swal.stopTimer,ne.onmouseleave=Swal.resumeTimer}}).fire({icon:"success",iconColor:"white",color:"white",background:"#00bdff",title:"usuario actualizado con exito"}),setTimeout(()=>{const ne=document.getElementById("nav-listado");ne.setAttribute("class","fade");let O=document.getElementById("Mostrarusuario");O.removeAttribute("class"),ne.parentElement.insertBefore(O,ne),location.reload()},3e3)}catch(x){console.error("Error al actualizar el usuario:",x),Swal.fire({icon:"error",title:"Error",text:x.message})}finally{l(n,!1)}}async function N(g){let D=0,F=g,q=D!==0;try{const h=await fetch(`https://proyectomascotas.onrender.com/update_estado_user/${F}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({estado:q})}),I=await h.json();h.ok?(Swal.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:oe=>{oe.onmouseenter=Swal.stopTimer,oe.onmouseleave=Swal.resumeTimer}}).fire({icon:"error",iconColor:"white",color:"white",background:"#ff4e4e",title:"El Usuario a sido desactivado de manera exitosa"}),setTimeout(()=>{location.reload()},3500)):alert("Error al desactivar: "+I.message||"Error desconocido")}catch(h){alert("Error en la solicitud: "+h.message)}}async function E(g){let D=1,F=g,q=D===1;try{const h=await fetch(`https://proyectomascotas.onrender.com/update_estado_user/${F}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({estado:q})}),I=await h.json();h.ok?(Swal.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:oe=>{oe.onmouseenter=Swal.stopTimer,oe.onmouseleave=Swal.resumeTimer}}).fire({icon:"success",iconColor:"#000000",color:"black",background:"#76fa78",title:"El usuario se ha activado de manera exitosa"}),setTimeout(()=>{location.reload()},3500)):alert("Error al Activar: "+I.message||"Error desconocido")}catch(h){alert("Error en la solicitud: "+h.message)}}Ce();var ae=Pa(),T=xe(ae),y=a(T),_=o(a(y),2);{var H=g=>{var D=Aa();v(g,D)},V=(g,D)=>{{var F=h=>{var I=Da(),x=a(I,!0);t(I),me(()=>te(x,e(c))),v(h,I)},q=h=>{var I=Ma(),x=a(I),oe=o(a(x));je(oe,5,()=>e(s),Te,(ne,O)=>{var ce=Na(),ve=a(ce),X=a(ve,!0);t(ve);var d=o(ve),G=a(d,!0);t(d);var R=o(d),J=a(R,!0);t(R);var S=o(R),U=a(S,!0);t(S);var Y=o(S),re=a(Y,!0);t(Y);var le=o(Y),de=a(le),pe=a(de,!0);t(de),t(le);var be=o(le),he=a(be),ue=a(he),fe=o(ue,2);{var Se=_e=>{var ye=Oa();Z("click",ye,()=>N(e(O).id)),v(_e,ye)},Be=_e=>{var ye=Ra();Z("click",ye,()=>E(e(O).id)),v(_e,ye)};K(fe,_e=>{e(O).estado?_e(Se):_e(Be,!1)})}t(he),t(be),t(ce),me(()=>{te(X,e(O).email),te(G,e(O).nombre),te(J,e(O).apellido),te(U,e(O).documento),te(re,e(O).telefono),Ze(de,1,`badge ${e(O).estado?"bg-success":"bg-danger"}`),te(pe,e(O).estado?"Activo":"Desactivado")}),Z("click",ue,()=>B(e(O).id)),v(ne,ce)}),t(oe),t(x),t(I),v(h,I)};K(g,h=>{e(c)?h(F):h(q,!1)},D)}};K(_,g=>{e(n)?g(H):g(V,!1)})}t(y),t(T);var Q=o(T,2),M=o(a(Q),2),b=a(M),f=o(a(b),2);t(b);var j=o(b,2),P=o(a(j),10),$=o(a(P),2),k=a($),L=a(k);L.value=L.__value="1";var C=o(L);C.value=C.__value="0",t(k),t($),t(P);var ee=o(P,2),W=o(a(ee),2),ie=a(W);t(W),t(ee),t(j),t(M),t(Q),Z("click",f,()=>w()),Z("click",ie,A),v(i,ae),De()}var Ua=u('<div class="row justify-content-center text-center"><div class="col-12 mb-2">Cargando datos...</div> <div class="spinner-border text-primary" role="status"><span class="visually-hidden">Loading...</span></div></div>'),qa=u('<div class="alert alert-danger text-center"> </div>'),za=u('<button class="btn btn-sm btn-outline-danger"><i class="bi bi-lock"></i> <span class="d-none d-md-inline">Desactivar</span></button>'),$a=u('<button class="btn btn-sm btn-outline-success"><i class="bi bi-unlock"></i> <span class="d-none d-md-inline">Activar</span></button>'),Ga=u('<tr><td> </td><td> </td><td> </td><td class="text-center"><span> </span></td><td class="text-center"><div class="d-flex flex-wrap gap-1 justify-content-center"><button class="btn btn-sm btn-outline-primary"><i class="bi bi-pencil"></i> <span class="d-none d-md-inline">Editar</span></button> <!></div></td></tr>'),Ja=u('<div class="table-responsive"><table class="table table-hover table-bordered align-middle" id="myTable"><thead class="thead-light text-center"><tr><th class="px-4 py-2 border">Nombre</th><th class="px-4 py-2 border">Genero</th><th class="px-4 py-2 border">Tipo_Ceguera</th><th class="px-4 py-2 border">Estado</th><th class="px-4 py-2 border">Opcion</th></tr></thead><tbody></tbody></table></div>'),Ha=u(`<div id="MostrarDiscapacitado"><div class="container py-4 bg-light rounded shadow"><h2 class="text-center mb-4 pb-2 border-bottom border-3 border-primary fw-bold"><i class="bi bi-people-fill me-2"></i>Lista de discapacitados</h2> <!></div></div> <div class="fade" id="nav-listado" role="tabpanel" aria-labelledby="nav-listado-tab"><div class="container text-center"><p class="text-warning"></p></div> <div class="card border-dark shadow-lg" style="width: 50%; margin: 5% auto;"><div class="card-header d-flex justify-content-between align-items-center"><h5 class="card-title mb-0"><b>Editando Discapacitado</b></h5> <button class="btn btn-close" aria-label="Cerrar edición de usuario"></button></div> <div class="card-body"><div class="mb-3 row"><label for="nombres" class="col-lg-3 col-form-label"><b>Nombre:</b></label> <div class="col-lg-9"><input type="text" id="nombres" class="form-control" placeholder="Nombres" maxlength="100" readonly=""></div></div> <div class="mb-3 row"><label for="genero" class="col-lg-3 col-form-label"><b>Género:</b></label> <div class="col-lg-9"><input type="text" id="genero" class="form-control" placeholder="Género" readonly=""></div></div> <div class="mb-3 row"><label for="tipo_ceguera" class="col-lg-3 col-form-label"><b>Tipo de Ceguera:</b></label> <div class="col-lg-9"><input type="text" id="tipo_ceguera" class="form-control" placeholder="Tipo de Ceguera" readonly=""></div></div> <div class="mb-3 row"><label for="estado" class="col-lg-3 col-form-label"><b>Estado:</b></label> <div class="col-lg-9"><select id="estado" class="form-control"><option>Activar</option><option>Desactivar</option></select></div></div> <div class="d-flex justify-content-between align-items-center"><div class="col-lg-9 text-muted">¡Al terminar de editar, haga clic en actualizar para guardar
                    los cambios!</div> <div class="col-lg-3 text-end"><button class="btn btn-outline-info"><b>Actualizar</b></button></div></div></div></div></div>`,1);function Va(i,r){Ae(r,!1);let s=z({}),n=z(!0),c=z(null);Ie(async()=>{try{console.log("2");const g=await fetch("https://proyectomascotas.onrender.com/get_discapacitadosVCOMPLETOS");if(!g.ok)throw new Error("Error al cargar los datos");const D=await g.json();l(s,D.resultado),console.log(e(s)),setTimeout(()=>{globalThis.$("#myTable").DataTable()},0)}catch(g){l(c,g.message)}finally{l(n,!1)}});async function w(){document.getElementById("nav-listado").setAttribute("class","fade"),document.getElementById("MostrarDiscapacitado").removeAttribute("class"),location.reload()}var m=1;async function B(g,D){console.log("Editando a "+D);const F=document.getElementById("nav-listado");F.removeAttribute("class"),console.log(F),m=g,console.log(Number.isInteger(m)),console.log(m);let q=document.getElementById("MostrarDiscapacitado");q.setAttribute("class","fade"),console.log(q);const h=q.parentElement;console.log(h),h.insertBefore(F,q),console.log("NO Entra al try de buscar");try{console.log("Entra al try de buscar");const I=await fetch(`https://proyectomascotas.onrender.com/get_discapacitadoV/${m}`,{method:"GET",headers:{"Content-Type":"application/json"}}),x=await I.json();console.log(I),console.log(x),console.log("Buscando al usuario seleccionado"),l(s,x.nombre),console.log(e(s)),document.getElementById("nombres").value=x.nombre,document.getElementById("genero").value=x.id_genero_discapacitado,document.getElementById("tipo_ceguera").value=x.id_tipo_ceguera,console.log("verificando el estado: "+x.estado);const oe=x.estado?"1":"0";document.getElementById("estado").value=oe;const ne=document.getElementById("nombres");ne.removeAttribute("readonly"),ne.focus(),document.getElementById("genero").removeAttribute("readonly"),document.getElementById("tipo_ceguera").removeAttribute("readonly"),document.getElementById("estado").removeAttribute("readonly")}catch(I){l(c,I.message)}finally{l(n,!1)}}async function A(){console.log(m);let g=document.getElementById("nombres").value,D=document.getElementById("genero").value,F=document.getElementById("tipo_ceguera").value,q=document.getElementById("estado").value;console.log("ID DE ESTADO ENVIADO A LA BASE DE DATOS ES "+q);try{console.log("Entra al try de actualzar");const h=await fetch(`https://proyectomascotas.onrender.com/update_user/${m}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({nombre:g,genero:D,tipo_ceguera:F,estado:q})});console.log("Actualizado"),Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:x=>{x.onmouseenter=Swal.stopTimer,x.onmouseleave=Swal.resumeTimer}}).fire({icon:"success",iconColor:"white",color:"white",background:"#00bdff",title:"Discapacitado actualizado con exito"}),setTimeout(()=>{const x=document.getElementById("nav-listado");x.setAttribute("class","fade");let oe=document.getElementById("MostrarDiscapacitado");oe.removeAttribute("class"),x.parentElement.insertBefore(oe,x),location.reload()},3e3)}catch(h){l(c,h.message)}finally{l(n,!1)}}async function N(g){let D=0,F=g,q=D!==0;try{const h=await fetch(`https://proyectomascotas.onrender.com/update_estado_discapacitado/${F}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({estado:q})}),I=await h.json();h.ok?(Swal.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:oe=>{oe.onmouseenter=Swal.stopTimer,oe.onmouseleave=Swal.resumeTimer}}).fire({icon:"error",iconColor:"white",color:"white",background:"#ff4e4e",title:"El Discapacitado a sido desactivado de manera exitosa"}),setTimeout(()=>{location.reload()},3500)):alert("Error al desactivar: "+I.message||"Error desconocido")}catch(h){alert("Error en la solicitud: "+h.message)}}async function E(g){let D=1,F=g,q=D===1;try{const h=await fetch(`https://proyectomascotas.onrender.com/update_estado_discapacitado/${F}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({estado:q})}),I=await h.json();h.ok?(Swal.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:oe=>{oe.onmouseenter=Swal.stopTimer,oe.onmouseleave=Swal.resumeTimer}}).fire({icon:"success",iconColor:"#000000",color:"black",background:"#76fa78",title:"El Discapacitado se ha activado de manera exitosa"}),setTimeout(()=>{location.reload()},3500)):alert("Error al Activar: "+I.message||"Error desconocido")}catch(h){alert("Error en la solicitud: "+h.message)}}Ce();var ae=Ha(),T=xe(ae),y=a(T),_=o(a(y),2);{var H=g=>{var D=Ua();v(g,D)},V=(g,D)=>{{var F=h=>{var I=qa(),x=a(I,!0);t(I),me(()=>te(x,e(c))),v(h,I)},q=h=>{var I=Ja(),x=a(I),oe=o(a(x));je(oe,5,()=>e(s),Te,(ne,O)=>{var ce=Ga(),ve=a(ce),X=a(ve,!0);t(ve);var d=o(ve),G=a(d,!0);t(d);var R=o(d),J=a(R,!0);t(R);var S=o(R),U=a(S),Y=a(U,!0);t(U),t(S);var re=o(S),le=a(re),de=a(le),pe=o(de,2);{var be=ue=>{var fe=za();Z("click",fe,()=>N(e(O).id)),v(ue,fe)},he=ue=>{var fe=$a();Z("click",fe,()=>E(e(O).id)),v(ue,fe)};K(pe,ue=>{e(O).estado?ue(be):ue(he,!1)})}t(le),t(re),t(ce),me(()=>{te(X,e(O).nombre),te(G,e(O).genero),te(J,e(O).tipo_ceguera),Ze(U,1,`badge ${e(O).estado?"bg-success":"bg-danger"}`),te(Y,e(O).estado?"Activo":"Desactivado")}),Z("click",de,()=>B(e(O).id,e(O).nombre)),v(ne,ce)}),t(oe),t(x),t(I),v(h,I)};K(g,h=>{e(c)?h(F):h(q,!1)},D)}};K(_,g=>{e(n)?g(H):g(V,!1)})}t(y),t(T);var Q=o(T,2),M=o(a(Q),2),b=a(M),f=o(a(b),2);t(b);var j=o(b,2),P=o(a(j),6),$=o(a(P),2),k=a($),L=a(k);L.value=L.__value="1";var C=o(L);C.value=C.__value="0",t(k),t($),t(P);var ee=o(P,2),W=o(a(ee),2),ie=a(W);t(W),t(ee),t(j),t(M),t(Q),Z("click",f,()=>w()),Z("click",ie,A),v(i,ae),De()}var Fa=u('<div class="row justify-content-center text-center"><div class="col-12 mb-2">Cargando datos...</div> <div class="spinner-border text-primary" role="status"><span class="visually-hidden">Loading...</span></div></div>'),Ya=u('<div class="alert alert-danger text-center"> </div>'),Za=u('<button class="btn btn-sm btn-outline-danger"><i class="bi bi-lock"></i> <span class="d-none d-md-inline">Desactivar</span></button>'),Wa=u('<button class="btn btn-sm btn-outline-success"><i class="bi bi-unlock"></i> <span class="d-none d-md-inline">Activar</span></button>'),Xa=u('<tr><td> </td><td class="text-center"><span> </span></td><td class="text-center"><div class="d-flex flex-wrap gap-1 justify-content-center"><button class="btn btn-sm btn-outline-primary"><i class="bi bi-pencil"></i> <span class="d-none d-md-inline">Editar</span></button> <!></div></td></tr>'),Ka=u('<div class="table-responsive"><table class="table table-hover table-bordered align-middle" id="myTable"><thead class="thead-light text-center"><tr><th>Nombre</th><th>Estado</th><th>Opciones</th></tr></thead><tbody></tbody></table></div>'),Qa=u('<label class="checkbox-label svelte-1stzg1k"><input type="checkbox"> </label>'),eo=u(`<div class="wrapper svelte-1stzg1k"><div class="title small-title svelte-1stzg1k" style="color: dodgerblue;">REGISTRO DE ROLES</div> <form class="class-form svelte-1stzg1k"><input class="form__input small-input svelte-1stzg1k" placeholder="Nombre del Rol" type="text" required> <button class="flip-card__btn small-btn svelte-1stzg1k">Confirmar</button></form></div> <div id="MostrarRoles"><div class="container py-4 bg-light rounded shadow"><h2 class="text-center mb-4 pb-2 border-bottom border-3 border-primary fw-bold"><i class="bi bi-diagram-3 me-2"></i> Lista de Roles</h2> <!></div></div> <div class="fade" id="nav-listado" role="tabpanel" aria-labelledby="nav-listado-tab"><div class="container text-center"><p class="text-orange"></p></div> <div class="card border-dark shadow" style="width: 60%; margin-left: 20%;"><div class="card-header row g-2"><h5 class="card-title col-lg-11"><b>Editando Rol</b></h5> <button class="btn btn-close col-lg-1" aria-label="Cerrar edición de usuario"></button></div> <div class="card-body" style="margin-left: 10%;"><div class="row"><div class="col-lg-2"><p class="card-text"><b>Nombre:</b></p></div> <div class="col-lg-10"><input type="text" placeholder="Nombre del Modulo" id="nombre" maxlength="100" style="border: none; width: 55%;" readonly=""></div></div> <fieldset class="checkbox-group svelte-1stzg1k"><legend class="svelte-1stzg1k">Seleccione los módulos:</legend> <div class="checkbox-container svelte-1stzg1k"></div></fieldset> <div class="row pt-3"><div class="col-lg-2"><p class="card-text"><b>Estado:</b></p></div> <div class="col-lg-10"><select id="estado" name="opciones" style="border: none; width: 55%;"><option>Activar</option><option>Desactivar</option></select></div></div> <div class="row" style="margin-top: 4%;"><div class="col-lg-9">¡Al terminar de editar, darle click en actualizar para
                    guardar los cambios!</div> <div class="col-lg-3 text-end"><button class="btn btn-outline-info"><b>Actualizar</b></button></div> <div id="estado" class="col-lg-10"></div></div></div></div></div>`,1);function to(i,r){Ae(r,!1);const s=[];let n=z(""),c=!0,w=z({}),m=z({}),B=z(!0),A=z(null),N=z([]);Ie(async()=>{const d=await(await fetch("https://proyectomascotas.onrender.com/get_modulos/")).json();l(m,d.resultado),console.log("ando ando",e(m))});const E=rt();async function ae(){try{if((await Swal.fire({title:"¿Estás seguro?",text:"¡Desea registrar el siguiente Rol!? "+e(n),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sí, registrar!",customClass:{popup:"swal-popup",title:"custom-title"}})).isConfirmed){E("showLoader");const d=await fetch("https://proyectomascotas.onrender.com/create_rol",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nombre:e(n),estado:c})}),G=await d.json();console.log(G),E("hideLoader"),d.ok?Swal.fire({title:"¡Se ha registrado el Rol llamado "+e(n)+" con exito!",icon:"success",customClass:{popup:"swal-popup",title:"custom-title"}}):alert("Error en el registro")}else console.log("Registro Cancelado")}catch(X){l(A,X.message),E("hideLoader"),alert("Error en la solicitud: "+e(A))}}Ie(async()=>{try{console.log("2");const X=await fetch("https://proyectomascotas.onrender.com/get_roles");if(!X.ok)throw new Error("Error al cargar los datos");const d=await X.json();l(w,d.resultado),console.log(e(w)),setTimeout(()=>{globalThis.$("#myTable").DataTable()},0)}catch(X){l(A,X.message)}finally{l(B,!1)}});async function T(){document.getElementById("nav-listado").setAttribute("class","fade"),document.getElementById("MostrarRoles").removeAttribute("class"),location.reload()}var y=1;async function _(X,d){console.log("Editando el Rol "+d);const G=document.getElementById("nav-listado");G.removeAttribute("class"),console.log(G),y=X,console.log(Number.isInteger(y)),console.log(y);let R=document.getElementById("MostrarRoles");R.setAttribute("class","fade"),console.log(R);const J=R.parentElement;console.log(J),J.insertBefore(G,R),console.log("NO Entra al try de buscar");const U=await(await fetch("https://proyectomascotas.onrender.com/get_modulos/")).json();l(m,U.resultado),console.log("ando ando",e(m));try{console.log("Entra al try de buscar");const Y=await fetch(`https://proyectomascotas.onrender.com/get_rol/${y}`,{method:"GET",headers:{"Content-Type":"application/json"}}),re=await Y.json();console.log(Y),console.log(re),console.log("Buscando el Rol seleccionado"),l(w,re.nombre),console.log(e(w)),document.getElementById("nombre").value=re.nombre,console.log("Verificando el estado: "+re.estado);const le=re.estado?"1":"0";document.getElementById("estado").value=le;const de=document.getElementById("nombre");de.removeAttribute("readonly"),de.focus(),document.getElementById("estado").removeAttribute("readonly")}catch(Y){l(A,Y.message)}finally{l(B,!1)}}async function H(){console.log(y);let X=document.getElementById("nombre").value,d=document.getElementById("estado").value;console.log("ID DE ESTADO ENVIADO A LA BASE DE DATOS ES "+d);try{console.log("Entra al try de actualzar");const G=await fetch(`https://proyectomascotas.onrender.com/update_rol/${y}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({nombre:X,estado:d})});console.log("Actualizado");const R=await fetch(`https://proyectomascotas.onrender.com/update_moduloXrol02/${y}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id_rol:y,id_modulo:e(N)})});console.log("Actualizado"),Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:S=>{S.onmouseenter=Swal.stopTimer,S.onmouseleave=Swal.resumeTimer}}).fire({icon:"success",iconColor:"white",color:"white",background:"#00bdff",title:"Rol actualizado exitosamente"}),setTimeout(()=>{const S=document.getElementById("nav-listado");S.setAttribute("class","fade");let U=document.getElementById("MostrarRoles");U.removeAttribute("class"),S.parentElement.insertBefore(U,S),location.reload()},3e3)}catch(G){l(A,G.message)}finally{l(B,!1)}}async function V(X){let d=0,G=X,R=d!==0;try{const J=await fetch(`https://proyectomascotas.onrender.com/update_estado_rol/${G}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({estado:R})}),S=await J.json();J.ok?(Swal.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:Y=>{Y.onmouseenter=Swal.stopTimer,Y.onmouseleave=Swal.resumeTimer}}).fire({icon:"error",iconColor:"white",color:"white",background:"#ff4e4e",title:"El Rol a sido desactivado de manera exitosa"}),setTimeout(()=>{location.reload()},3500)):alert("Error al desactivar: "+S.message||"Error desconocido")}catch(J){alert("Error en la solicitud: "+J.message)}}async function Q(X){let d=1,G=X,R=d===1;try{const J=await fetch(`https://proyectomascotas.onrender.com/update_estado_rol/${G}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({estado:R})}),S=await J.json();J.ok?(Swal.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:Y=>{Y.onmouseenter=Swal.stopTimer,Y.onmouseleave=Swal.resumeTimer}}).fire({icon:"success",iconColor:"#000000",color:"black",background:"#76fa78",title:"El Rol se ha activado de manera exitosa"}),setTimeout(()=>{location.reload()},3500)):alert("Error al Activar: "+S.message||"Error desconocido")}catch(J){alert("Error en la solicitud: "+J.message)}}Ce();var M=eo(),b=xe(M),f=o(a(b),2),j=a(f);ge(j),Ue(2),t(f),t(b);var P=o(b,2),$=a(P),k=o(a($),2);{var L=X=>{var d=Fa();v(X,d)},C=(X,d)=>{{var G=J=>{var S=Ya(),U=a(S,!0);t(S),me(()=>te(U,e(A))),v(J,S)},R=J=>{var S=Ka(),U=a(S),Y=o(a(U));je(Y,5,()=>e(w),Te,(re,le)=>{var de=Xa(),pe=a(de),be=a(pe,!0);t(pe);var he=o(pe),ue=a(he),fe=a(ue,!0);t(ue),t(he);var Se=o(he),Be=a(Se),_e=a(Be),ye=o(_e,2);{var qe=p=>{var se=Za();Z("click",se,()=>V(e(le).id)),v(p,se)},ze=p=>{var se=Wa();Z("click",se,()=>Q(e(le).id)),v(p,se)};K(ye,p=>{e(le).estado?p(qe):p(ze,!1)})}t(Be),t(Se),t(de),me(()=>{te(be,e(le).nombre),Ze(ue,1,`badge fs-6 ${e(le).estado?"bg-success":"bg-danger"}`),te(fe,e(le).estado?"Activo":"Desactivado")}),Z("click",_e,()=>_(e(le).id,e(le).nombre)),v(re,de)}),t(Y),t(U),t(S),v(J,S)};K(X,J=>{e(A)?J(G):J(R,!1)},d)}};K(k,X=>{e(B)?X(L):X(C,!1)})}t($),t(P);var ee=o(P,2),W=o(a(ee),2),ie=a(W),g=o(a(ie),2);t(ie);var D=o(ie,2),F=o(a(D),2),q=o(a(F),2);je(q,5,()=>e(m),Te,(X,d)=>{var G=Qa(),R=a(G);ge(R);var J,S=o(R);t(G),me(()=>{J!==(J=e(d).id)&&(R.value=(R.__value=e(d).id)??""),te(S,` ${e(d).nombre??""}`)}),It(s,[],R,()=>(e(d).id,e(N)),U=>l(N,U)),v(X,G)}),t(q),t(F);var h=o(F,2),I=o(a(h),2),x=a(I),oe=a(x);oe.value=oe.__value="1";var ne=o(oe);ne.value=ne.__value="0",t(x),t(I),t(h);var O=o(h,2),ce=o(a(O),2),ve=a(ce);t(ce),Ue(2),t(O),t(D),t(W),t(ee),Ee(j,()=>e(n),X=>l(n,X)),Z("submit",f,We(ae)),Z("click",g,()=>T()),Z("click",ve,H),v(i,M),De()}var ao=u('<div class="row justify-content-center text-center"><div class="col-12 mb-2">Cargando datos...</div> <div class="spinner-border text-primary" role="status"><span class="visually-hidden">Loading...</span></div></div>'),oo=u('<div class="alert alert-danger text-center"> </div>'),so=u('<button class="btn btn-sm btn-outline-danger"><i class="bi bi-lock"></i> <span class="d-none d-md-inline">Desactivar</span></button>'),ro=u('<button class="btn btn-sm btn-outline-success"><i class="bi bi-unlock"></i> <span class="d-none d-md-inline">Activar</span></button>'),lo=u('<tr><td> </td><td> </td><td class="text-center"><span> </span></td><td class="text-center"><div class="d-flex flex-wrap gap-1 justify-content-center"><button class="btn btn-sm btn-outline-primary"><i class="bi bi-pencil"></i> <span class="d-none d-md-inline">Editar</span></button> <!></div></td></tr>'),io=u('<div class="table-responsive"><table class="table table-hover table-bordered align-middle" id="myTable"><thead><tr><th>Nombre</th><th>Descripcion</th><th>Estado</th><th>Opciones</th></tr></thead><tbody></tbody></table></div>'),no=u(`<div class="wrapper svelte-t5nwrd"><div class="title small-title svelte-t5nwrd" style="color: dodgerblue;">REGISTRO DE MODULOS</div> <form class="class-form svelte-t5nwrd"><input class="form__input small-input svelte-t5nwrd" placeholder="Nombre del Modulo" type="text" required> <input class="form__input small-input svelte-t5nwrd" placeholder="Descripcion del Modulo" type="text" required> <input class="form__input small-input svelte-t5nwrd" placeholder="Ubicacion del Modulo" type="text" required> <input class="form__input small-input svelte-t5nwrd" placeholder="Ingrese el icono que tendra el Modulo (Boostrap)" type="text" required> <button class="flip-card__btn small-btn svelte-t5nwrd">Confirmar</button></form></div> <div id="MostrarModulos"><div class="container py-4 bg-light rounded shadow"><h2 class="text-center mb-4 pb-2 border-bottom border-3 border-primary fw-bold"><i class="bi-grid-3x3-gap-fill me-2"></i>Lista de Modulos</h2> <!></div></div> <div class="fade" id="nav-listado" role="tabpanel" aria-labelledby="nav-listado-tab"><div class="container text-center"><p class="text-orange"></p></div> <div class="card border-dark shadow" style="width: 60%; margin-left: 20%;"><div class="card-header row g-2"><h5 class="card-title col-lg-11"><b>Editando Modulo</b></h5> <button class="btn btn-close col-lg-1" aria-label="Cerrar edición de usuario"></button></div> <div class="card-body" style="margin-left: 10%;"><div class="row"><div class="col-lg-2"><p class="card-text"><b>Nombre:</b></p></div> <div class="col-lg-10"><input type="text" placeholder="Nombre del Modulo" id="nombre" maxlength="100" style="border: none; width: 55%;" readonly=""></div></div> <div class="row pt-3"><div class="col-lg-2"><p class="card-text"><b>Descripcion:</b></p></div> <div class="col-lg-10"><input type="text" placeholder="Descripcion del Modulo" id="descripcion" style="border: none; width: 55%;" readonly=""></div></div> <div class="row pt-3"><div class="col-lg-2"><p class="card-text"><b>Ubicación:</b></p></div> <div class="col-lg-10"><input type="text" placeholder="Descripcion del Modulo" id="ubicacion" style="border: none; width: 55%;" readonly=""></div></div> <div class="row pt-3"><div class="col-lg-2"><p class="card-text"><b>Estilo:</b></p></div> <div class="col-lg-10"><input type="text" placeholder="Descripcion del Modulo" id="estilo" style="border: none; width: 55%;" readonly=""></div></div> <div class="row pt-3"><div class="col-lg-2"><p class="card-text"><b>Estado:</b></p></div> <div class="col-lg-10"><select id="estado" name="opciones" style="border: none; width: 55%;"><option>Activar</option><option>Desactivar</option></select></div></div> <div class="row" style="margin-top: 4%;"><div class="col-lg-9">¡Al terminar de editar, darle click en actualizar para
                    guardar los cambios!</div> <div class="col-lg-3 text-end"><button class="btn btn-outline-info"><b>Actualizar</b></button></div> <div id="estado" class="col-lg-10"></div></div></div></div></div>`,1);function co(i,r){Ae(r,!1);let s=z(""),n=z(""),c=z(""),w=z(""),m=!0,B=z({}),A=z(!0),N=z(null);const E=rt();async function ae(){try{if((await Swal.fire({title:"¿Estás seguro?",text:"¡Desea registrar el siguiente Modulo!?: "+e(s),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sí, registrar!",customClass:{popup:"swal-popup",title:"custom-title"}})).isConfirmed){E("showLoader");const G=await fetch("https://proyectomascotas.onrender.com/create_modulo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nombre:e(s),descripcion:e(n),ubicacion:e(c),estado:m,estilo:e(w)})}),R=await G.json();console.log(R),E("hideLoader"),G.ok?(Swal.fire({title:"¡Se ha registrado el Modulo llamado "+e(s)+" con exito!",icon:"success",customClass:{popup:"swal-popup",title:"custom-title"}}),setTimeout(()=>{location.reload()},3500)):alert("Error en el registro")}else console.log("Registro Cancelado")}catch(d){l(N,d.message),E("hideLoader"),alert("Error en la solicitud: "+e(N))}}Ie(async()=>{try{console.log("2");const d=await fetch("https://proyectomascotas.onrender.com/get_modulos");if(!d.ok)throw new Error("Error al cargar los datos");const G=await d.json();l(B,G.resultado),console.log(e(B)),setTimeout(()=>{globalThis.$("#myTable").DataTable()},0)}catch(d){l(N,d.message)}finally{l(A,!1)}});async function T(){document.getElementById("nav-listado").setAttribute("class","fade"),document.getElementById("MostrarModulos").removeAttribute("class"),location.reload()}var y=1;async function _(d,G){console.log("Editando el modulo "+G);const R=document.getElementById("nav-listado");R.removeAttribute("class"),console.log(R),y=d,console.log(Number.isInteger(y)),console.log(y);let J=document.getElementById("MostrarModulos");J.setAttribute("class","fade"),console.log(J);const S=J.parentElement;console.log(S),S.insertBefore(R,J),console.log("NO Entra al try de buscar");try{console.log("Entra al try de buscar");const U=await fetch(`https://proyectomascotas.onrender.com/get_modulo/${y}`,{method:"GET",headers:{"Content-Type":"application/json"}}),Y=await U.json();console.log(U),console.log(Y),console.log("Buscando el Modulo seleccionado"),l(B,Y.nombre),console.log(e(B)),document.getElementById("nombre").value=Y.nombre,document.getElementById("descripcion").value=Y.descripcion,document.getElementById("ubicacion").value=Y.ubicacion,document.getElementById("estilo").value=Y.estilo,console.log("verificando el estado: "+Y.estado);const re=Y.estado?"1":"0";document.getElementById("estado").value=re;const le=document.getElementById("nombre");le.removeAttribute("readonly"),le.focus(),document.getElementById("descripcion").removeAttribute("readonly"),document.getElementById("ubicacion").removeAttribute("readonly"),document.getElementById("estilo").removeAttribute("readonly"),document.getElementById("estado").removeAttribute("readonly")}catch(U){l(N,U.message)}finally{l(A,!1)}}async function H(){console.log(y);let d=document.getElementById("nombre").value,G=document.getElementById("descripcion").value,R=document.getElementById("ubicacion").value,J=document.getElementById("estilo").value,S=document.getElementById("estado").value;console.log("ID DE ESTADO ENVIADO A LA BASE DE DATOS ES "+S);try{console.log("Entra al try de actualzar");const U=await fetch(`https://proyectomascotas.onrender.com/update_modulo/${y}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({nombre:d,descripcion:G,ubicacion:R,estilo:J,estado:S})});console.log("Actualizado"),Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:re=>{re.onmouseenter=Swal.stopTimer,re.onmouseleave=Swal.resumeTimer}}).fire({icon:"success",iconColor:"white",color:"white",background:"#00bdff",title:"Modulo actualizado exitosamente"}),setTimeout(()=>{const re=document.getElementById("nav-listado");re.setAttribute("class","fade");let le=document.getElementById("MostrarModulos");le.removeAttribute("class"),re.parentElement.insertBefore(le,re),location.reload()},3e3)}catch(U){l(N,U.message)}finally{l(A,!1)}}async function V(d){let G=0,R=d,J=G!==0;try{const S=await fetch(`https://proyectomascotas.onrender.com/update_estado_modulo/${R}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({estado:J})}),U=await S.json();S.ok?(Swal.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:re=>{re.onmouseenter=Swal.stopTimer,re.onmouseleave=Swal.resumeTimer}}).fire({icon:"error",iconColor:"white",color:"white",background:"#ff4e4e",title:"El Modulo a sido desactivado de manera exitosa"}),setTimeout(()=>{location.reload()},3500)):alert("Error al desactivar: "+U.message||"Error desconocido")}catch(S){alert("Error en la solicitud: "+S.message)}}async function Q(d){let G=1,R=d,J=G===1;try{const S=await fetch(`https://proyectomascotas.onrender.com/update_estado_modulo/${R}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({estado:J})}),U=await S.json();S.ok?(Swal.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:re=>{re.onmouseenter=Swal.stopTimer,re.onmouseleave=Swal.resumeTimer}}).fire({icon:"success",iconColor:"#000000",color:"black",background:"#76fa78",title:"El Modulo se ha activado de manera exitosa"}),setTimeout(()=>{location.reload()},3500)):alert("Error al Activar: "+U.message||"Error desconocido")}catch(S){alert("Error en la solicitud: "+S.message)}}Ce();var M=no(),b=xe(M),f=o(a(b),2),j=a(f);ge(j);var P=o(j,2);ge(P);var $=o(P,2);ge($);var k=o($,2);ge(k),Ue(2),t(f),t(b);var L=o(b,2),C=a(L),ee=o(a(C),2);{var W=d=>{var G=ao();v(d,G)},ie=(d,G)=>{{var R=S=>{var U=oo(),Y=a(U,!0);t(U),me(()=>te(Y,e(N))),v(S,U)},J=S=>{var U=io(),Y=a(U),re=o(a(Y));je(re,5,()=>e(B),Te,(le,de)=>{var pe=lo(),be=a(pe),he=a(be,!0);t(be);var ue=o(be),fe=a(ue,!0);t(ue);var Se=o(ue),Be=a(Se),_e=a(Be,!0);t(Be),t(Se);var ye=o(Se),qe=a(ye),ze=a(qe),p=o(ze,2);{var se=Oe=>{var we=so();Z("click",we,()=>V(e(de).id)),v(Oe,we)},lt=Oe=>{var we=ro();Z("click",we,()=>Q(e(de).id)),v(Oe,we)};K(p,Oe=>{e(de).estado?Oe(se):Oe(lt,!1)})}t(qe),t(ye),t(pe),me(()=>{te(he,e(de).nombre),te(fe,e(de).descripcion),Ze(Be,1,`badge ${e(de).estado?"bg-success":"bg-danger"}`),te(_e,e(de).estado?"Activo":"Desactivado")}),Z("click",ze,()=>_(e(de).id,e(de).nombre)),v(le,pe)}),t(re),t(Y),t(U),v(S,U)};K(d,S=>{e(N)?S(R):S(J,!1)},G)}};K(ee,d=>{e(A)?d(W):d(ie,!1)})}t(C),t(L);var g=o(L,2),D=o(a(g),2),F=a(D),q=o(a(F),2);t(F);var h=o(F,2),I=o(a(h),8),x=o(a(I),2),oe=a(x),ne=a(oe);ne.value=ne.__value="1";var O=o(ne);O.value=O.__value="0",t(oe),t(x),t(I);var ce=o(I,2),ve=o(a(ce),2),X=a(ve);t(ve),Ue(2),t(ce),t(h),t(D),t(g),Ee(j,()=>e(s),d=>l(s,d)),Ee(P,()=>e(n),d=>l(n,d)),Ee($,()=>e(c),d=>l(c,d)),Ee(k,()=>e(w),d=>l(w,d)),Z("submit",f,We(ae)),Z("click",q,()=>T()),Z("click",X,H),v(i,M),De()}var vo=u('<div class="admin-container svelte-frsr9g"><div class="admin-card svelte-frsr9g"><div class="card-header svelte-frsr9g"><h2>📊 Panel de Estadísticas</h2></div> <div class="card-body svelte-frsr9g"><div class="iframe-container svelte-frsr9g"><iframe title="SensuTrack - Estadísticas" src="https://app.powerbi.com/view?r=eyJrIjoiZWE4NDU5OWUtNDZiMi00M2RjLTk0NTUtZWUxZDkyMjMwZDQyIiwidCI6IjFlOWFhYmU4LTY3ZjgtNGYxYy1hMzI5LWE3NTRlOTI0OTlhZSIsImMiOjR9" frameborder="0" allowfullscreen="" class="svelte-frsr9g"></iframe></div></div></div></div>');function uo(i){var r=vo();v(i,r)}var mo=u('<div class="row justify-content-center text-center"><div class="col-12 mb-2">Cargando datos...</div> <div class="spinner-border text-primary" role="status"><span class="visually-hidden">Loading...</span></div></div>'),po=u('<div class="alert alert-danger text-center"> </div>'),bo=u('<button class="btn btn-sm btn-outline-danger"><i class="bi bi-lock"></i> <span class="d-none d-md-inline">Desactivar</span></button>'),fo=u('<button class="btn btn-sm btn-outline-success"><i class="bi bi-unlock"></i> <span class="d-none d-md-inline">Activar</span></button>'),_o=u('<tr><td> </td><td> </td><td> </td><td> </td><td> </td><td class="text-center"><span> </span></td><td class="text-center"><div class="d-flex flex-wrap gap-1 justify-content-center"><button class="btn btn-sm btn-outline-primary"><i class="bi bi-pencil"></i> <span class="d-none d-md-inline">Editar</span></button> <!></div></td></tr>'),go=u('<div class="table-responsive"><table class="table table-hover table-bordered align-middle" id="myTable"><thead class="thead-light text-center"><tr><th>ID</th><th>Usuario</th><th>Latitud</th><th>Longitud</th><th>Lugar</th><th>Estado</th><th>Opcion</th></tr></thead><tbody></tbody></table></div>'),ho=u('<div id="Mostrarusuario"><div class="container py-4"><h2 class="text-center mb-4 pb-2 border-bottom border-3 border-primary fw-bold"><i class="bi-clock-history me-2"></i>Historial de Ubicaciones</h2> <!></div></div>');function yo(i,r){Ae(r,!1);let s=z([]),n=z(!0),c=z(null);Ie(async()=>{try{const E=await fetch("http://localhost:3000/historial");if(!E.ok)throw new Error("Error al cargar los datos");const ae=await E.json();console.log(ae),l(s,Array.isArray(ae)?ae:[ae]),setTimeout(()=>{globalThis.$&&globalThis.$.fn.DataTable?globalThis.$("#myTable").DataTable():console.error("jQuery o DataTables no están cargados")},0)}catch(E){l(c,E.message)}finally{l(n,!1)}}),Ce();var w=ho(),m=a(w),B=o(a(m),2);{var A=E=>{var ae=mo();v(E,ae)},N=(E,ae)=>{{var T=_=>{var H=po(),V=a(H,!0);t(H),me(()=>te(V,e(c))),v(_,H)},y=_=>{var H=go(),V=a(H),Q=o(a(V));je(Q,5,()=>e(s),Te,(M,b)=>{var f=_o(),j=a(f),P=a(j,!0);t(j);var $=o(j),k=a($,!0);t($);var L=o($),C=a(L,!0);t(L);var ee=o(L),W=a(ee,!0);t(ee);var ie=o(ee),g=a(ie,!0);t(ie);var D=o(ie),F=a(D),q=a(F,!0);t(F),t(D);var h=o(D),I=a(h),x=a(I),oe=o(x,2);{var ne=ce=>{var ve=bo();Z("click",ve,()=>desactivar(e(b).id)),v(ce,ve)},O=ce=>{var ve=fo();Z("click",ve,()=>activar(e(b).id)),v(ce,ve)};K(oe,ce=>{e(b).estado?ce(ne):ce(O,!1)})}t(I),t(h),t(f),me(()=>{te(P,e(b).id),te(k,e(b).id_usuario),te(C,e(b).latitud),te(W,e(b).longitud),te(g,e(b).lugar),Ze(F,1,`badge ${e(b).estado?"bg-success":"bg-danger"}`),te(q,e(b).estado?"Activo":"Desactivado")}),Z("click",x,()=>editar(e(b).id,e(b).nombre)),v(M,f)}),t(Q),t(V),t(H),v(_,H)};K(E,_=>{e(c)?_(T):_(y,!1)},ae)}};K(B,E=>{e(n)?E(A):E(N,!1)})}t(m),t(w),v(i,w),De()}var wo=u('<option class="svelte-1r4v3de"> </option>'),Eo=u('<label class="checkbox-label svelte-1r4v3de"><input type="checkbox" name="modulo" class="svelte-1r4v3de"> </label>'),xo=u('<div class="wrapper svelte-1r4v3de"><div class="title small-title svelte-1r4v3de" style="color: dodgerblue;">REGISTRO DE MODULOSXROL</div> <form class="class-form svelte-1r4v3de"><span class="svelte-1r4v3de">Roles:</span> <select id="roles" class="form__input svelte-1r4v3de" required><option disabled selected class="svelte-1r4v3de">Selecciona un rol</option><!></select> <fieldset class="checkbox-group svelte-1r4v3de"><legend class="svelte-1r4v3de">Módulos:</legend> <span class="svelte-1r4v3de">Selecciona los Modulos que tendra el Rol seleccionado:</span> <div class="checkbox-container svelte-1r4v3de"></div></fieldset> <button class="flip-card__btn small-btn svelte-1r4v3de">Confirmar</button></form> <div class="loader-container svelte-1r4v3de"><div class="loader-text svelte-1r4v3de"><span class="svelte-1r4v3de">S</span> <span class="svelte-1r4v3de">e</span> <span class="svelte-1r4v3de">n</span> <span class="svelte-1r4v3de">s</span> <span class="svelte-1r4v3de">u</span> <span class="svelte-1r4v3de">T</span> <span class="svelte-1r4v3de">r</span> <span class="svelte-1r4v3de">a</span> <span class="svelte-1r4v3de">c</span> <span class="svelte-1r4v3de">k</span></div></div></div>');function To(i,r){Ae(r,!1);const s=[];let n="",c=!0,w=z([]),m=[],B=z({}),A=z({}),N=null,E=z();Ie(async()=>{const $=await(await fetch("https://proyectomascotas.onrender.com/get_modulos/")).json();l(B,$.resultado),console.log(e(B));const L=await(await fetch("https://proyectomascotas.onrender.com/get_roles/")).json();l(A,L.resultado),console.log(e(A))});function ae(P){P&&(P.style.display="flex")}function T(P){P&&(P.style.display="none")}async function y(){console.log(e(w)),console.log(m),n=document.getElementById("roles").value;try{if((await Swal.fire({title:"¿Estás seguro?",text:"¡Desea registrar el siguiente ModuloxRol!?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sí, registrar!",customClass:{popup:"swal-popup",title:"custom-title"}})).isConfirmed){ae(e(E));const $=await fetch("https://proyectomascotas.onrender.com/create_moduloXrol",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id_modulo:e(w),id_rol:n,estado:c})}),k=await $.json();console.log(k),T(e(E)),$.ok?(Swal.fire({title:"¡Se ha registrado el ModuloxRol con exito ",icon:"success",customClass:{popup:"swal-popup",title:"custom-title"}}),setTimeout(()=>{location.reload()},3500)):alert("Error en el registro")}else console.log("Registro Cancelado")}catch(P){N=P.message,T(e(E)),alert("Error en la solicitud: "+N)}}Ce();var _=xo(),H=o(a(_),2),V=o(a(H),2),Q=a(V);Q.value=Q.__value="";var M=o(Q);je(M,1,()=>e(A),Te,(P,$)=>{var k=wo(),L={},C=a(k,!0);t(k),me(()=>{L!==(L=e($).id)&&(k.value=(k.__value=e($).id)??""),te(C,e($).nombre)}),v(P,k)}),t(V);var b=o(V,2),f=o(a(b),4);je(f,5,()=>e(B),Te,(P,$)=>{var k=Eo(),L=a(k);ge(L);var C,ee=o(L);t(k),me(()=>{ua(L,"id",`modulo-${e($).id??""}`),C!==(C=e($).id)&&(L.value=(L.__value=e($).id)??""),te(ee,` ${e($).nombre??""}`)}),It(s,[],L,()=>(e($).id,e(w)),W=>l(w,W)),v(P,k)}),t(f),t(b),Ue(2),t(H);var j=o(H,2);Fe(j,P=>l(E,P),()=>e(E)),t(_),Z("submit",H,We(y)),v(i,_),De()}var jo=u('<h2 class="svelte-j0ma7a">Super Admin</h2>'),So=u('<i class="bi bi-person-circle fs-3 svelte-j0ma7a"></i>'),Bo=u('<span class="svelte-j0ma7a">Registrar Usuario</span>'),ko=u('<span class="svelte-j0ma7a">Reportes</span>'),Io=u('<span class="svelte-j0ma7a">Registrar GPS</span>'),Co=u('<span class="svelte-j0ma7a">Tabla Usuarios</span>'),Ao=u('<span class="svelte-j0ma7a">Tabla Discapacitados</span>'),Do=u('<span class="svelte-j0ma7a">Registrar Roles</span>'),Oo=u('<span class="svelte-j0ma7a">Registrar Módulos</span>'),Ro=u('<span class="svelte-j0ma7a">Asignar Módulo</span>'),No=u('<span class="svelte-j0ma7a">Tablero</span>'),Mo=u('<span class="svelte-j0ma7a">Ubicaciones</span>'),Po=u('<span class="svelte-j0ma7a">Cerrar Sesión</span>'),Lo=u(`<div class="admin-welcome svelte-j0ma7a"><h1 class="svelte-j0ma7a">👋 ¡Bienvenido, Administrador!</h1> <p class="subtitle svelte-j0ma7a">Este panel te permite tener el control total del sistema
                    para apoyar a las personas ciegas con eficiencia y
                    seguridad.</p></div>`),Uo=u('<!> <div class="loader-container svelte-j0ma7a"><div class="loader-text svelte-j0ma7a"><span class="svelte-j0ma7a">S</span> <span class="svelte-j0ma7a">e</span> <span class="svelte-j0ma7a">n</span> <span class="svelte-j0ma7a">s</span> <span class="svelte-j0ma7a">u</span> <span class="svelte-j0ma7a">T</span> <span class="svelte-j0ma7a">r</span> <span class="svelte-j0ma7a">a</span> <span class="svelte-j0ma7a">c</span> <span class="svelte-j0ma7a">k</span></div></div>',1),qo=u('<!> <div class="loader-container svelte-j0ma7a"><div class="loader-text svelte-j0ma7a"><span class="svelte-j0ma7a">S</span> <span class="svelte-j0ma7a">e</span> <span class="svelte-j0ma7a">n</span> <span class="svelte-j0ma7a">s</span> <span class="svelte-j0ma7a">u</span> <span class="svelte-j0ma7a">T</span> <span class="svelte-j0ma7a">r</span> <span class="svelte-j0ma7a">a</span> <span class="svelte-j0ma7a">c</span> <span class="svelte-j0ma7a">k</span></div></div>',1),zo=u('<!> <div class="loader-container svelte-j0ma7a"><div class="loader-text svelte-j0ma7a"><span class="svelte-j0ma7a">S</span> <span class="svelte-j0ma7a">e</span> <span class="svelte-j0ma7a">n</span> <span class="svelte-j0ma7a">s</span> <span class="svelte-j0ma7a">u</span> <span class="svelte-j0ma7a">T</span> <span class="svelte-j0ma7a">r</span> <span class="svelte-j0ma7a">a</span> <span class="svelte-j0ma7a">c</span> <span class="svelte-j0ma7a">k</span></div></div>',1),$o=u('<!> <div class="loader-container svelte-j0ma7a"><div class="loader-text svelte-j0ma7a"><span class="svelte-j0ma7a">S</span> <span class="svelte-j0ma7a">e</span> <span class="svelte-j0ma7a">n</span> <span class="svelte-j0ma7a">s</span> <span class="svelte-j0ma7a">u</span> <span class="svelte-j0ma7a">T</span> <span class="svelte-j0ma7a">r</span> <span class="svelte-j0ma7a">a</span> <span class="svelte-j0ma7a">c</span> <span class="svelte-j0ma7a">k</span></div></div>',1),Go=u('<div class="layout svelte-j0ma7a"><div class="sidebar svelte-j0ma7a" role="navigation"><div class="sidebar-header svelte-j0ma7a"><!></div> <nav class="svelte-j0ma7a"><button class="svelte-j0ma7a"><i class="bi bi-person-add svelte-j0ma7a"></i> <!></button> <button class="svelte-j0ma7a"><i class="bi bi-file-earmark-spreadsheet svelte-j0ma7a"></i> <!></button> <button class="svelte-j0ma7a"><i class="bi bi-geo-alt svelte-j0ma7a"></i> <!></button> <button class="svelte-j0ma7a"><i class="bi bi-table svelte-j0ma7a"></i> <!></button> <button class="svelte-j0ma7a"><i class="bi bi-table svelte-j0ma7a"></i> <!></button> <button class="svelte-j0ma7a"><i class="bi bi-person-badge svelte-j0ma7a"></i> <!></button> <button class="svelte-j0ma7a"><i class="bi bi-stack svelte-j0ma7a"></i> <!></button> <button class="svelte-j0ma7a"><i class="bi bi-shield-lock svelte-j0ma7a"></i> <!></button> <button class="svelte-j0ma7a"><i class="bi bi-graph-up svelte-j0ma7a"></i> <!></button> <button class="svelte-j0ma7a"><i class="bi bi-map svelte-j0ma7a"></i> <!></button> <button class="logout svelte-j0ma7a"><i class="bi bi-power svelte-j0ma7a"></i> <!></button></nav></div> <main class="content svelte-j0ma7a"><!></main></div> <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet" class="svelte-j0ma7a">',1);function Qo(i){let r=z(!1),s=z("X"),n=z();function c(){wt(n,e(n).style.display="flex")}function w(){wt(n,e(n).style.display="none")}function m(){l(r,!0)}function B(){l(r,!1)}function A(){localStorage.clear(),window.location.href="/"}function N(){l(s,"registro_usuario")}function E(){l(s,"reportes")}function ae(){l(s,"registro_gps")}function T(){l(s,"tabla_usuarios")}function y(){l(s,"tabla_discapacitados")}function _(){l(s,"registro_roles")}function H(){l(s,"registro_modulos")}function V(){l(s,"modulos_por_rol")}function Q(){l(s,"tablero")}function M(){l(s,"historial_ubicaciones")}var b=Go(),f=xe(b),j=a(f),P=a(j),$=a(P);{var k=p=>{var se=jo();v(p,se)},L=p=>{var se=So();v(p,se)};K($,p=>{e(r)?p(k):p(L,!1)})}t(P);var C=o(P,2),ee=a(C),W=o(a(ee),2);{var ie=p=>{var se=Bo();v(p,se)};K(W,p=>{e(r)&&p(ie)})}t(ee);var g=o(ee,2),D=o(a(g),2);{var F=p=>{var se=ko();v(p,se)};K(D,p=>{e(r)&&p(F)})}t(g);var q=o(g,2),h=o(a(q),2);{var I=p=>{var se=Io();v(p,se)};K(h,p=>{e(r)&&p(I)})}t(q);var x=o(q,2),oe=o(a(x),2);{var ne=p=>{var se=Co();v(p,se)};K(oe,p=>{e(r)&&p(ne)})}t(x);var O=o(x,2),ce=o(a(O),2);{var ve=p=>{var se=Ao();v(p,se)};K(ce,p=>{e(r)&&p(ve)})}t(O);var X=o(O,2),d=o(a(X),2);{var G=p=>{var se=Do();v(p,se)};K(d,p=>{e(r)&&p(G)})}t(X);var R=o(X,2),J=o(a(R),2);{var S=p=>{var se=Oo();v(p,se)};K(J,p=>{e(r)&&p(S)})}t(R);var U=o(R,2),Y=o(a(U),2);{var re=p=>{var se=Ro();v(p,se)};K(Y,p=>{e(r)&&p(re)})}t(U);var le=o(U,2),de=o(a(le),2);{var pe=p=>{var se=No();v(p,se)};K(de,p=>{e(r)&&p(pe)})}t(le);var be=o(le,2),he=o(a(be),2);{var ue=p=>{var se=Mo();v(p,se)};K(he,p=>{e(r)&&p(ue)})}t(be);var fe=o(be,2),Se=o(a(fe),2);{var Be=p=>{var se=Po();v(p,se)};K(Se,p=>{e(r)&&p(Be)})}t(fe),t(C),t(j);var _e=o(j,2),ye=a(_e);{var qe=p=>{var se=Lo();v(p,se)},ze=(p,se)=>{{var lt=we=>{var Xe=Uo(),Ke=xe(Xe);wa(Ke,{$$events:{showLoader:c,hideLoader:w}});var it=o(Ke,2);Fe(it,Re=>l(n,Re),()=>e(n)),v(we,Xe)},Oe=(we,Xe)=>{{var Ke=Re=>{Ba(Re,{})},it=(Re,Ot)=>{{var Rt=$e=>{var Qe=qo(),et=xe(Qe);Ca(et,{$$events:{showLoader:c,hideLoader:w}});var nt=o(et,2);Fe(nt,Ne=>l(n,Ne),()=>e(n)),v($e,Qe)},Nt=($e,Qe)=>{{var et=Ne=>{La(Ne,{})},nt=(Ne,Mt)=>{{var Pt=Ge=>{Va(Ge,{})},Lt=(Ge,Ut)=>{{var qt=Je=>{var tt=zo(),at=xe(tt);to(at,{$$events:{showLoader:c,hideLoader:w}});var ct=o(at,2);Fe(ct,Me=>l(n,Me),()=>e(n)),v(Je,tt)},zt=(Je,tt)=>{{var at=Me=>{var ot=$o(),st=xe(ot);co(st,{$$events:{showLoader:c,hideLoader:w}});var dt=o(st,2);Fe(dt,Pe=>l(n,Pe),()=>e(n)),v(Me,ot)},ct=(Me,ot)=>{{var st=Pe=>{To(Pe,{})},dt=(Pe,$t)=>{{var Gt=He=>{uo(He)},Jt=(He,Ht)=>{{var Vt=vt=>{yo(vt,{})};K(He,vt=>{e(s)==="historial_ubicaciones"&&vt(Vt)},Ht)}};K(Pe,He=>{e(s)==="tablero"?He(Gt):He(Jt,!1)},$t)}};K(Me,Pe=>{e(s)==="modulos_por_rol"?Pe(st):Pe(dt,!1)},ot)}};K(Je,Me=>{e(s)==="registro_modulos"?Me(at):Me(ct,!1)},tt)}};K(Ge,Je=>{e(s)==="registro_roles"?Je(qt):Je(zt,!1)},Ut)}};K(Ne,Ge=>{e(s)==="tabla_discapacitados"?Ge(Pt):Ge(Lt,!1)},Mt)}};K($e,Ne=>{e(s)==="tabla_usuarios"?Ne(et):Ne(nt,!1)},Qe)}};K(Re,$e=>{e(s)==="registro_gps"?$e(Rt):$e(Nt,!1)},Ot)}};K(we,Re=>{e(s)==="reportes"?Re(Ke):Re(it,!1)},Xe)}};K(p,we=>{e(s)==="registro_usuario"?we(lt):we(Oe,!1)},se)}};K(ye,p=>{e(s)==="X"?p(qe):p(ze,!1)})}t(_e),t(f),Ue(2),Z("click",ee,N),Z("click",g,E),Z("click",q,ae),Z("click",x,T),Z("click",O,y),Z("click",X,_),Z("click",R,H),Z("click",U,V),Z("click",le,Q),Z("click",be,M),Z("click",fe,A),Z("mouseenter",j,m),Z("mouseleave",j,B),v(i,b)}export{Qo as component};
